
## this code should:
## - take monthly sets of Reddit comments in JSON format as input
## - go through each line and select the actual text only (disregard all the metadata)
## - save all the text (one comment per line) to a separate (monthly) txt-file which can then be used as input for the Biber-tagger

## maybe we should have two versions of this code? One that saves one comment per line and one that saves one sentence per line?


import json
import os

path = >>>specify file path here<<<

for filename in os.listdir(path):
  jsonfile = open(os.path.join(path, filename), "r", errors="surrogateescape")
  textfile = open(os.path.join(path, filename + "_text.txt"), "w", errors="replace")
  counter = 0
  for line in jsonfile:
  counter += 1
    try:
        comment = json.loads(line.strip())
        textfile.write(json.dumps([counter:comment["body"]]))
    except json.decoder.JSONDecodeError:
        print("JSONDecodeError encountered")
  jsonfile.close()
  textfile.close()










